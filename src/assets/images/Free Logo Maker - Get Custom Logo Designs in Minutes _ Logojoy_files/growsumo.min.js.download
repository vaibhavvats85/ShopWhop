growsumo={domain:"https://grsm.io",cookie_domain:location.host,data:{amount:0,currency:"USD",email:"",name:"",public_key:"",host_domain:""},_initialize:function(o){var n=/([a-z1-9\-]*)(\.[a-z1-9\-]*)(\.[a-z1-9\-]*)/gi,r=n.exec(growsumo.cookie_domain);r&&(growsumo.cookie_domain=r[2]+r[3]),growsumo.data.host_domain=location.host,growsumo.data.public_key=o,growsumo._gpk()},_gc:function(o){var n=new RegExp(o+"=([^;]+)"),r=n.exec(document.cookie);return null!==r?unescape(r[1]):null},_sc:function(o,n){var r=new Date(Date.now()+7776e6).toUTCString();document.cookie=o+"="+n+";domain="+growsumo.cookie_domain+";expires="+r+";path=/;";var a=growsumo._gc(o);a!==n&&(document.cookie=o+"="+n+";domain="+location.host+";expires="+r+";path=/;")},_gpk:function(){var o=growsumo._gpbn("gspk");if(o)o=growsumo._b64d(o),growsumo._spk(o);else{var n=growsumo._ccr("GET",growsumo.domain+"/pr/gpk/"+growsumo.data.public_key);n.onreadystatechange=function(){4==n.readyState&&200==n.status&&growsumo._spk(n.responseText)},n.send(null)}},_spk:function(o){var n=growsumo._gc("growSumoPartnerKey");o?(growsumo.data.partner_key=o,growsumo._sc("growSumoPartnerKey",o)):n&&(growsumo.data.partner_key=n,growsumo._sc("growSumoPartnerKey",n))},_gpbn:function(o){o=o.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+o+"(=([^&#]*)|&|#|$)"),r=n.exec(location.search);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null},_rd:function(){growsumo.data.amount=0,growsumo.data.email="",growsumo.data.name="",growsumo.data.currency="USD"},_ccr:function(o,n,r){var a=new XMLHttpRequest;return a.withCredentials=!0,"withCredentials"in a?a.open(o,n,!0):"undefined"!=typeof XDomainRequest?(a=new XDomainRequest,a.open(o,n)):a=null,a},_mr:function(o,n,r,a){var e=growsumo.domain+n,t=growsumo._ccr(o,e);return t?(t.onload=t.onerror=function(o){a&&"function"==typeof a&&a(o)},void t.send(JSON.stringify(r))):void console.error("CORS not supported")},_b64d:function(o){return decodeURIComponent(atob(o).split("").map(function(o){return"%"+("00"+o.charCodeAt(0).toString(16)).slice(-2)}).join(""))},setData:function(o,n,r,a){growsumo.data.amount=o,growsumo.data.currency=n,growsumo.data.email=r,growsumo.data.name=a},createSignup:function(o){growsumo._spk(),growsumo.data.name=String(growsumo.data.name),growsumo.data.email=String(growsumo.data.email),growsumo.data.currency=String(growsumo.data.currency),growsumo.data.amount=Number(growsumo.data.amount),growsumo._mr("POST","/pr/signup",growsumo.data,function(n){growsumo._rd(),o&&"function"==typeof o&&o(n)})}};